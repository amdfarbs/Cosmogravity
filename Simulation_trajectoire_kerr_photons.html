<!DOCTYPE html>
<html lang="fr" class="nav-no-js">

<head>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1">

	<!-- Css de la page -->
	<link rel="stylesheet" href="./CSS/styleTrajectoire.css">
	<link rel="stylesheet" href="./CSS/styleAnimation.css">
	<link rel="stylesheet" href="./CSS/styleNav.css">

	<script src="./JavaScript/Trajectoires/avertissement.js"></script>

	<!-- Latex dans Html -->

	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">

	<!-- The loading of KaTeX is deferred to speed up page rendering -->
	<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>

	<!-- To automatically render math in text elements, include the auto-render extension: -->
	<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"
			onload="renderMathInElement(document.body);"></script>

	<link rel="stylesheet" type="text/css"
		  href="./JavaScript/Trajectoires/katex/katex.min.css">

	<script type="text/javascript"
			src="./JavaScript/Trajectoires/katex/katex.min.js"></script>

	<script type="text/javascript"
			src="./JavaScript/Trajectoires/katex/contrib/auto-render.min.js"></script>

	<script>
		document.addEventListener("DOMContentLoaded", function() {
			renderMathInElement(document.body, {
				// ...options...
				delimiters:[
					{left:"$",right:'$',display: false},
				]
			});
		});
	</script>

	<!-- Scripts pour calculs -->
	<script src="./node_modules/d3.js"></script>
	<script src="./node_modules/snap.svg.js"></script>
	<script src="./node_modules/jquery/dist/jquery.js"></script>
	<script src="./JavaScript/Langues/gestion_langues.js"></script>
    <script src="JavaScript/Fonctions_pour_HTML.js"></script>


	<script src="./JavaScript/Trajectoires/calcul_trajectoire_kerr_photons.js"></script>
	<script src="./JavaScript/Trajectoires/bouttons.js"></script>
	<script src="./JavaScript/Trajectoires/graphe_potentiel.js"></script>
	<script src="./JavaScript/Trajectoires/Get_para.js"></script>
	<script src="./JavaScript/Trajectoires/pilotage.js"></script>
	<script src="./JavaScript/Trajectoires/fonctions_utilitaires_trajectoires.js"></script>
	<script src="./JavaScript/Trajectoires/trajectoires.js"></script>

	<!-- Pour enregistrer le graphe et le tracé -->
	<script src="./node_modules/saveSvgAsPng.js"></script>
	<script src="./node_modules/canvas-to-image.js"></script>

	<!-- MENUS
    Source: http://www.cssscript.com/multi-level-toggle-responsive-navigation-menu-using-pure-css/
                                              -->
	

  	<title>Simulateur de trajectoire pour photon avec Kerr</title>
</head>

<body>
  <!-- Script Google Analytics -->
	<script>
		(function(i, s, o, g, r, a, m) {
			i['GoogleAnalyticsObject'] = r;
			i[r] = i[r] || function() {
				(i[r].q = i[r].q || []).push(arguments)
			}, 
			i[r].l = 1 * new Date();
			a = s.createElement(o),
			m = s.getElementsByTagName(o)[0];
			a.async = 1;
			a.src = g;
			m.parentNode.insertBefore(a, m)
		})(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

		ga('create', 'UA-98631213-3', 'auto');
		ga('send', 'pageview');
	</script>

  <!-- Menus -->

	
  <div id="positionNav" class="Nav"></div>

  <div class="grillePrincipale">
	<button onclick="toggleEntreeSortie('panneauEntree')" class="petitBoutton"
		style=" display:block; top: 60px; left:10px; position: absolute">
	<img id="flecheGauche" class="flècheMenu"
		src="./Images/fleche_menu.png"
		alt="">
	</button>

	<input type="hidden" id="traject_type" name="traject_type" value="complete"></input>

	<input type="hidden" id="traject_type2" name="traject_type2" value="observateur"></input> 																	 

	<input type="hidden" id="scalefactor" name="scalefactor" value=280></input>

			<input type="hidden" id="canvaswidthheight"  value="750"></input> 																					 
	<!-- Permet de déterminer si il y a un tracé -->
	<input type="hidden" id="trace_present" name="trace_present" value="false"></input>

	<div id="panneauEntree" class="Entree">
		<div class="boiteEntree"  >
			<div id="Entrées"></div>
			<label id="Entree_astre_label" style="font-size: 20px;margin-bottom: 20px;margin-top: 20px;">Entrées Astre</label> 
			<div id="champs_a_remplir_haut" class="pls-inputs-container">

				<span id="masse" class="input-wrapper">
					<label id= "massetxt"for="M">M (kg) =</label>
					<input id="M" value="2e30" align="left" maxlength="10" type="text" size="10" onchange="verifnbr();initialisation()" oninput="initialisation()" autocomplete="off">
				</span>

				<span id="momentcinetique" class="input-wrapper" >
					<label id="moment"for="J">J (kg.m<sup>2</sup>.s<sup>-1</sup>)=</label>
					<input id="J" value="8.5e41" align="left" maxlength="15" type="text" size="15" onchange="verifnbr();initialisation()" oninput="initialisation()" autocomplete="off">
				</span>
		
			</div>
		</div>

		<div class="boiteEntree">
			<label id="Entree_mobile_label" style="font-size: 20px;margin-bottom: 20px;margin-top: 20px;">Entrées Mobiles</label> 
			<span id="case">
				<label  id="labelgp" for="vr"></label>
				<input id="toggle" type="checkbox"  checked autocomplete="off" >
			</span>  
			<div id="mobile_inputs" class="form-container" style="width: 250px;margin-top: 30px; margin-left: 90px;">
				
				<span id="rayon" class="input-wrapper" style="position: relative; right:120px">
					<label  id="ctreastre" for="r0">r<sub>0</sub> (m) =</label>
					<input id="r0" value="4455" align="left" maxlength="11" type="text" size="10" onchange="verifnbr();initialisation()" autocomplete="off">
				</span>

				<span id="vitesse1" class="input-wrapper" style="position: relative; right:120px">
					<label id="philabel" title=""  for="phi0">&phi;<sub>0</sub>°=</label>
					<input id="phi0" value="0" maxlength="15" type="text" size="15" onchange="verifnbr();initialisation()" autocomplete="off">
				</span>
		
				<span id="vitesse2" class="input-wrapper" style="position: relative; right:120px">
					<label  id="theta_label" title="" for="teta">&#632;<sub>0</sub>°=</label>
					<input id="teta" value="128" maxlength="10" type="text" size="10" onchange="verifnbr();initialisation()" autocomplete="off" >
				</span>		   
			</div>	
		</div>
	</div>

    <div id="panneauGraphe" class="Graphe" style="position: relative;">
		
		<button style="position: absolute; top: 20px; right: 10px; cursor: pointer;" class="avertissement_style" onclick=avertissement_trajectoire();>
            <img id="panneauAvertissement"
                 style="width: 25px; height: 25px"
                 src="./Images/panneau_avertissement.png"
                 alt="avertissement">
                 <span id="txt_trajectoire" style=" top: 30px; right: 50px; cursor: pointer; color: black;"></span>
                <br/>
                <span id="txt_avertissement_trajectoire"></span>
        </button>
        <div class="boiteGraphe">
			<button id="bouton_info" onclick="commandes();"  class="info-icon"></button>
			<p id="txt_titre" class="titre_style"></p>
			<div id="radio_button">
				<button id="r1" type="button" name="traj" class="bouttonChoix" value="complete" onclick="document.getElementById('traject_type').value = this.value;pressionBouttonTrajectoireComplete()"></button>
				<button id="r2" type="button" name="traj2" class="bouttonChoix-inverse" value="simple" onclick="document.getElementById('traject_type').value = this.value;pressionBouttonTrajectoireSimple()"></button>
				<button id="r3" type="button" name="observateur" class="bouttonChoix" value="observateur" onclick="document.getElementById('traject_type2').value = this.value;pressionBouttonObservateur(true);notationvitesseree1kerr();"></button>
				<button id="r4" type="button" name="mobile" class="bouttonChoix-inverse" value="mobile" onclick="document.getElementById('traject_type2').value = this.value;pressionBouttonMobile(true);notationvitesseree1kerr();"></button> 
				<div style="display: inline-block;">
					<span id="case_depasser"style="display:none">
						<label id="label_depasser" for="vr"></label>
						<input id="depasser" type="checkbox" autocomplete="off">
					</span>
				</div>   
					
			</div>
			
			<div id="boutons_actions">
				<span id="buts">
					<button type="button" class="grosBoutton" id="start" onclick="save_generalise(false);tests_lancement();"></button> 																																								
					<button type="button" class="grosBoutton" id="pause/resume" style="display: none;" >Pause</button>
				</span>
				<span id="bouton">
					<button type="button" id="clear" class="grosBoutton" onclick="save_generalise(false);rafraichir();"></button>
				</span>

				<span id="enregistrer">
					<button id="boutton_enregis" type="button" class="grosBoutton" onclick="enregistrer_trajectoires();"></button>
				</span>

				<span id="recup">
					<button id="boutton_recup" type="button" class="grosBoutton" onclick="load_kerr_photon();initialisation();"></button>
				</span>

				 <span id="prézoom">
					<button id="boutton_prézoom" type="button" class="grosBoutton" style="display: none;" onclick="verifnbr()"></button>
				<span id="prézoom">
					<button id="boutton_prézoom" type="button" class="grosBoutton" style="display: none;" onclick="verifnbr()"></button>
				</span>

			</div>
		</div>

		<div class="boiteGraphe">
			<div id="table_principale" class="table-container" hidden >
				<table  id="tg2"   >
					<thead id="tableauresultatsimu">
						<tr>
							<th class="tg-aicv">r(m)</th>
							<th id="temps_ecoule" class="tg-aicv"></th>										   
							<th id="vitesseur" title="" class="tg-aicv" >V<SUB>r</SUB>(m.s<sup>-1</sup>)</th>
							<th id="vitesseuphi" title="" class="tg-aicv" >V<SUB>&phi;</SUB>(m.s<sup>-1</sup>)</th>
							<th id="temps_obs" class="tg-aicv"></th>
							<th id="v_total" class="tg-aicv">V<SUB>physique</SUB>(m.s<sup>-1</sup>)</th>
						</tr>
						<tr>
							<td class="tg-3ozo" id="r_par">res</td>
							<td class="tg-3ozo" id="tp">res</td>
							<td class="tg-3ozo" id="vrkp">res</td>
							<td class="tg-3ozo" id="vpkp">res</td>
							<td class="tg-3ozo" id="to">res</td>
							<td class="tg-3ozo" id="v_tot">res</td>
						</tr>
					</thead>
				</table>
			</div>
			<span id="indic_calculs"></span>


			<!-- Tracés -->
			<div id="bloc_resultats">
			<div class="wrapper_kerr">
				<canvas id="myCanvas" width="750" height="750"></canvas>
				<canvas id="myCanvas22" width="750" height="750"></canvas>
				<canvas id="myCanvas3" width="750" height="750"></canvas>		
			</div>
			<div class="wrapper2_kerr">
				<svg id="grsvg_2"></svg></div>
			</div>

			<div id="panneau_mobile2">
				<label id="nzoomtxt" for="nzoom" style="border: 1px solid rgb(175, 175, 175); padding: 5px; border-radius: 25% ; ">zoom=0</label>
				<span id="moinszoom">
					<img id="moinsvi1" src="Images/moins.png" class="bouton_mobile" title="Zoom (-)">
				</span>
		
				<span id="initialiser">
					<img id="pau1" src="Images/reset.png" class="bouton_mobile" title="Echelle par défault">
				</span>
		
				<span id="pluszoom">
					<img id="plusvi1" src="Images/plus.png" class="bouton_mobile" title="Zoom (+)">
				</span>
			</div>
		
			<!-- Panneau mobile qui apparait lorsque tracé -->
			<div id="panneau_mobile">
				<span id="moinsvite">
					<img id="moinsvi" src="Images/lent.png" class="bouton_mobile" title="Décélérer">
				</span>
				<span id="bouton_pause">
					<img id="pau" src="Images/pause.png" class="bouton_mobile" title="Pause">
				</span>
				<span id="plusvite">
					<img id="plusvi" src="Images/rapide.png" class="bouton_mobile" title="Accélérer (attention, réduit la précision)">
				</span>
				<label id="nsimtxt" for="nzoom" style="border: 1px solid rgb(175, 175, 175);  padding: 5px; border-radius: 25% ;">simu=0</label>
			</div>

		</div>

	</div>

	<button onclick="toggleEntreeSortie('panneauSortie')" class="petitBoutton"
	style=" display:block; top: 60px; right:10px; position: absolute">
	<img id="flecheDroite" class="flècheMenu tournee"
		src="./Images/fleche_menu.png"
		alt="">
	</button>
	<div id="panneauSortie" class="Sortie">
        <div class="boiteSortie">
			<label id="Sortie_astre_label" style="font-size: 20px;margin-top: 20px;">Sorties Astre</label> 
			<div id="ct_tg" class="table-container">
				<table class="td" id="tg">
					<thead id="tableau-sortie">
						<tr>
							<th class="tg-6l4m" id="rayonschwars" >$rs=\frac{2GM}{c^{2}}(m)$</th>
							<th class="tg-aicv" id="horizon1" >$Rh+(m)$</th>
							<th class="tg-aicv" id="horizon2">$Rh-(m)$</th>
						</tr>
						<tr>
							<td class="tg-3ozo" id="m">0</td>
							<td class="tg-3ozo" id="rhp">0</td>
							<td class="tg-3ozo" id="rhm">0</td>
						</tr>
						<tr>
							<th class="tg-aicv" id="spin" title="" >$a=\frac{J}{cM}(m)$</th>
							<th class="tg-aicv" id="gravSurface">$g=\frac{1}{2}c^{2}\frac{(Rh+^{2}-a^{2})}{(Rh+^{2}+a^{2})Rh+}(m.s^{-2})$</th>
							<th class="tg-aicv" id="gravSurface" style="display: none;"></th> <!-- une case en plus pour garder le cadre -->

						</tr>
						<tr>
							<td class="tg-3ozo" id="a">0</td>
							<td class="tg-3ozo" id="gravS">0</td>
							<td class="tg-3ozo" id="gravS" style="display: none;"></td>
						</tr>
					</thead>
				</table>
			</div>
			
		</div>	
		<div class="boiteSortie">
			<label id="Sortie_mobile_label" style="font-size: 20px;margin-top: 20px;">Sorties Mobiles</label> 
            <div id="ct_tg2" class="table-container">
                <table class="td" id="tg2">
                    <thead id="tableau-sortie-2">
						<tr>
							<th class="tg-aicv">$L(m)$</th>
							<th class="tg-aicv">$E$</th>
						</tr>
						<tr>
							<td class="tg-3ozo" id="L">0</td>
							<td class="tg-3ozo" id="E">0</td>
						</tr>
						<tr>
							<th class="tg-aicv" id="circulaire_prograde">$r_{prograde}(m)$</th> 
							<th class="tg-aicv" id="circulaire_retrograde">$r_{retrograde}(m)$</th> 
						</tr>
						<tr>
							<td class="tg-3ozo" id="circulaire_prograde_res">0</td> 
							<td class="tg-3ozo" id="circulaire_retrograde_res">0</td> 
						</tr>
					</thead>
                </table>
            </div>
		</div>	
	</div>

  </div>













  <!-- Scripts pour resize et tracer du graphique au chargement + chargement du menu-->
	<script src="./JavaScript/Trajectoires/nav.jquery.min.js"></script>
	<script>
		$(function() {
			$("#positionNav").load("Navigation.html");
		});
		pause = true;
		debut = true;
		initialisation();
		/* d3.select(window).on('resize', resize); */ 
		$(function() {
			$("#nav-ici").load("Menu.html");
		});
		texteTrajectoirePhotonKerr();
		traceEstAbsent();
		textesimutraj();

		function commandes(){ //Fonction qui permet l'affichage de l'alerte pour les commandes clavier. 
			var texte = o_recupereJson();
			alert(texte.pages_trajectoire.commandes_horsSchwarMassif);
		}

		document.getElementById('traject_type2').value="observateur";
		document.getElementById('traject_type').value="complete";

		notationvitesseree1kerr();
		infobulleobservateurdistant();
		peuxonrelancer=true;
	</script>
</body>

</html>
